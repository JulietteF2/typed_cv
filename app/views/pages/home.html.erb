<div class="editor" style="margin: 1.5rem auto; width: 900px; background-color: #282923;">

  <div class="top-bar d-flex">
    <div class="rounds d-flex p-1">
      <div style="width: 12px; height: 12px; border-radius: 50%; background-color: #FF5F58; margin-right: 0.3rem;"></div>
      <div style="width: 12px; height: 12px; border-radius: 50%; background-color: #FFBD2E; margin-right: 0.3rem"></div>
      <div style="width: 12px; height: 12px; border-radius: 50%; background-color: #28C941"></div>
    </div>
    <div style="margin: 0 auto">online_cv_</div>
  </div>

  <%= render 'components/left-side-bar' %>

    <div class="main-window" style="width:80%">
      <div class="wrapping-nav">
        <nav>
          <div class="nav nav-tabs" id="nav-tab" role="tablist">
            <a class="nav-item nav-link" id="nav-cv-tab" data-toggle="tab" href="#nav-cv" role="tab" aria-controls="nav-cv" aria-selected="true">juliette_ferrer_cv.html.erb</a>
            <a class="nav-item nav-link" id="nav-profile-tab" data-toggle="tab" href="#nav-profile" role="tab" aria-controls="nav-profile" aria-selected="false">non_tech_people_friendly_cv.pdf</a>
            <a class="nav-item nav-link" id="nav-contact-tab" data-toggle="tab" href="#nav-contact" role="tab" aria-controls="nav-contact" aria-selected="false">let_s_chat.rb</a>
          </div>
        </nav>
      </div>

      <div class="tab-content" id="nav-tabContent">
        <!-- CV TAB -->
        <div class="tab-pane fade" id="nav-cv" role="tabpanel" aria-labelledby="nav-cv-tab" style="padding: 1.5rem 2rem 1.5rem 1.5rem; height: 82vh">
          <%#= render 'components/test-main-content' %>
          <div class="test-typed">
            <p class="green">
              <span id="intro"></span>
            </p>
            <br>
            <%= render 'components/toggled-content' %>
          </div>
        </div>

        <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab" style="padding: 1.5rem; height: 82vh">
          <object width="100%" height="100%" data="../../assets/html_cv.pdf" type="application/pdf">.pdf version of CV</object>
        </div>

        <div class="tab-pane fade" id="nav-contact" role="tabpanel" aria-labelledby="nav-contact-tab">
          <%= render 'components/mailer' %>
        </div>
      </div>
    </div>

  </div>
</div>

<script>
  if (window.location.href.endsWith('messages')) {
    document.getElementById('nav-contact-tab').classList.add('active');
    document.getElementById('nav-contact').classList.add('show');
    document.getElementById('nav-contact').classList.add('active');
  } else {
    document.getElementById('nav-cv-tab').classList.add('active');
    document.getElementById('nav-cv').classList.add('show');
    document.getElementById('nav-cv').classList.add('active');
  }

  // happy to chat linking to tab
  let chatLink = document.getElementById('link-to-tab');
  chatLink.addEventListener('click', (e) => {
    e.preventDefault();
    document.getElementById('nav-contact-tab').click();
  })
</script>

<%= content_for :after_js do %>
  <%= javascript_pack_tag 'typedContent' %>
<% end %>
